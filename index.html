<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Science Learning Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .main-screen {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .fade-in { animation: fadeIn 0.8s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Interactive Learning Section Styles */
        .learning-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .learning-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .interactive-diagram-container {
            position: relative;
        }
        .hotspot {
            position: absolute;
            width: 25px;
            height: 25px;
            background-color: rgba(255, 255, 0, 0.8);
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }
        .hotspot:hover {
            transform: scale(1.2);
            animation: none;
        }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        
        .info-popup {
            position: absolute;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            z-index: 10;
            width: 250px;
            transition: opacity 0.3s, transform 0.3s;
        }

        /* Photosynthesis Animation */
        #sun-rays div, #co2-arrow, #o2-arrow, #water-arrows div { animation: flow 3s infinite linear; }
        @keyframes flow { 0% { opacity: 0; transform: translateX(-20px); } 50% { opacity: 1; } 100% { opacity: 0; transform: translateX(20px); } }
        #water-arrows div { animation-name: flow-up; }
        @keyframes flow-up { 0% { opacity: 0; transform: translateY(20px); } 50% { opacity: 1; } 100% { opacity: 0; transform: translateY(-20px); } }

        /* Quiz Section Styles */
        .quiz-container, .level-selection-screen, .level-complete-screen, .final-results-screen, .review-screen {
            background-color: #f8fafc;
        }
        .option-btn, .level-btn { transition: all 0.3s ease; }
        .option-btn:hover, .level-btn:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .level-btn:disabled { background-color: #e5e7eb; cursor: not-allowed; color: #9ca3af; }
        .correct { background-color: #22c55e !important; color: white !important; border-color: #16a34a !important; }
        .incorrect { background-color: #ef4444 !important; color: white !important; border-color: #dc2626 !important; }
        .timer-bar { transition: width 30s linear; }
        .modal-backdrop { background-color: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px); }
        .review-card { border-left: 4px solid #ef4444; }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Main Navigation -->
    <nav class="bg-white/80 backdrop-blur-md shadow-md sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center py-3">
                <div class="text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600">
                    Science Hub
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <a href="#learning-hub" class="text-gray-600 hover:text-indigo-600 font-medium">Learning Hub</a>
                    <a href="#chapter1" class="text-gray-600 hover:text-indigo-600 font-medium">Plants</a>
                    <a href="#chapter2" class="text-gray-600 hover:text-indigo-600 font-medium">Animals</a>
                    <a href="#chapter3" class="text-gray-600 hover:text-indigo-600 font-medium">Acids & Bases</a>
                    <a href="#chapter4" class="text-gray-600 hover:text-indigo-600 font-medium">Changes</a>
                    <a href="#quiz-zone" class="bg-indigo-600 text-white px-4 py-2 rounded-full font-semibold hover:bg-indigo-700 transition">Quiz Zone</a>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-gray-600 focus:outline-none">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#learning-hub" class="block py-2 px-4 text-sm text-gray-600 hover:bg-gray-200">Learning Hub</a>
            <a href="#chapter1" class="block py-2 px-4 text-sm text-gray-600 hover:bg-gray-200">Plants</a>
            <a href="#chapter2" class="block py-2 px-4 text-sm text-gray-600 hover:bg-gray-200">Animals</a>
            <a href="#chapter3" class="block py-2 px-4 text-sm text-gray-600 hover:bg-gray-200">Acids & Bases</a>
            <a href="#chapter4" class="block py-2 px-4 text-sm text-gray-600 hover:bg-gray-200">Changes</a>
            <a href="#quiz-zone" class="block py-2 px-4 text-sm text-indigo-600 hover:bg-gray-200">Quiz Zone</a>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto p-4 md:p-8">
        <!-- Learning Hub Section -->
        <section id="learning-hub" class="text-center py-16 px-4 fade-in">
            <h1 class="text-5xl md:text-6xl font-extrabold text-gray-800 mb-4">Interactive Science Learning</h1>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto mb-8">Explore the fascinating world of Class 7 Science through animations, diagrams, and interactive simulations. Select a chapter below to begin your adventure!</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Chapter Cards -->
                <a href="#chapter1" class="learning-card bg-white p-6 rounded-2xl shadow-lg text-center">
                    <i class="fas fa-seedling text-5xl text-green-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-800">Nutrition in Plants</h3>
                </a>
                <a href="#chapter2" class="learning-card bg-white p-6 rounded-2xl shadow-lg text-center">
                    <i class="fas fa-paw text-5xl text-yellow-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-800">Nutrition in Animals</h3>
                </a>
                <a href="#chapter3" class="learning-card bg-white p-6 rounded-2xl shadow-lg text-center">
                    <i class="fas fa-flask text-5xl text-blue-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-800">Acids, Bases & Salts</h3>
                </a>
                <a href="#chapter4" class="learning-card bg-white p-6 rounded-2xl shadow-lg text-center">
                    <i class="fas fa-fire text-5xl text-red-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-800">Physical & Chemical Changes</h3>
                </a>
            </div>
        </section>

        <!-- Chapter 1: Nutrition in Plants -->
        <section id="chapter1" class="py-16">
            <h2 class="text-4xl font-bold text-center mb-12">Chapter 1: Nutrition in Plants</h2>
            <div class="bg-white p-8 rounded-2xl shadow-xl interactive-diagram-container">
                <h3 class="text-2xl font-semibold text-center mb-6">The Magic of Photosynthesis</h3>
                <!-- Photosynthesis Diagram -->
                <div class="relative max-w-2xl mx-auto">
                    <img src="https://placehold.co/800x500/A8D8B9/333333?text=Photosynthesis+Diagram" alt="Photosynthesis" class="rounded-lg w-full">
                    <!-- Sun -->
                    <div class="absolute top-4 right-4 text-yellow-400 text-6xl"><i class="fas fa-sun"></i></div>
                    <div id="sun-rays" class="absolute top-20 right-28">
                        <div class="h-1 w-16 bg-yellow-400 -rotate-45"></div>
                        <div class="h-1 w-16 bg-yellow-400 -rotate-45 my-2" style="animation-delay: 0.5s;"></div>
                    </div>
                    <!-- Arrows -->
                    <div id="co2-arrow" class="absolute top-1/3 left-4 text-gray-700 font-bold">CO₂ <i class="fas fa-arrow-right ml-2"></i></div>
                    <div id="o2-arrow" class="absolute top-1/2 right-4 text-blue-500 font-bold"><i class="fas fa-arrow-left mr-2"></i> O₂</div>
                    <div id="water-arrows" class="absolute bottom-12 left-1/3">
                        <div class="text-blue-600 font-bold"><i class="fas fa-arrow-up"></i> Water</div>
                        <div class="text-blue-600 font-bold" style="animation-delay: 0.5s;"><i class="fas fa-arrow-up"></i></div>
                    </div>
                    <!-- Hotspots -->
                    <div class="hotspot" style="top: 30%; left: 45%;" data-info="<strong>Leaves:</strong> The 'kitchen' of the plant where photosynthesis happens. They contain chlorophyll to trap sunlight."></div>
                    <div class="hotspot" style="top: 80%; left: 50%;" data-info="<strong>Roots:</strong> Absorb water and essential minerals from the soil, which are transported up to the leaves."></div>
                    <div class="hotspot" style="top: 10%; right: 10%;" data-info="<strong>Sunlight:</strong> The ultimate source of energy that powers the entire process of photosynthesis."></div>
                </div>
            </div>
        </section>

        <!-- Chapter 2: Nutrition in Animals -->
        <section id="chapter2" class="py-16 bg-gray-50 rounded-3xl">
            <h2 class="text-4xl font-bold text-center mb-12">Chapter 2: Nutrition in Animals</h2>
            <div class="bg-white p-8 rounded-2xl shadow-xl">
                 <h3 class="text-2xl font-semibold text-center mb-6">The Human Digestive System</h3>
                 <div class="relative max-w-md mx-auto interactive-diagram-container">
                    <img src="https://placehold.co/400x600/FEC8D8/333333?text=Digestive+System" alt="Digestive System" class="w-full rounded-lg">
                    <!-- Hotspots for Digestive System -->
                    <div class="hotspot" style="top: 10%; left: 50%;" data-info="<strong>Mouth:</strong> Ingestion and the start of carbohydrate digestion happen here. Teeth chew the food, and saliva mixes with it."></div>
                    <div class="hotspot" style="top: 35%; left: 60%;" data-info="<strong>Stomach:</strong> A muscular bag that churns food. It secretes acid and enzymes to digest protein."></div>
                    <div class="hotspot" style="top: 50%; left: 40%;" data-info="<strong>Small Intestine:</strong> The longest part of the system. Final digestion and absorption of most nutrients occur here."></div>
                    <div class="hotspot" style="top: 45%; left: 20%;" data-info="<strong>Liver:</strong> The largest gland. It produces bile, which helps in digesting fats."></div>
                 </div>
            </div>
        </section>
        
        <!-- Chapter 3: Acids, Bases & Salts -->
        <section id="chapter3" class="py-16">
            <h2 class="text-4xl font-bold text-center mb-12">Chapter 3: Acids, Bases & Salts</h2>
            <div class="bg-white p-8 rounded-2xl shadow-xl">
                <h3 class="text-2xl font-semibold text-center mb-6">Interactive Litmus Test</h3>
                <div class="flex flex-col md:flex-row justify-around items-center gap-8">
                    <!-- Acid Beaker -->
                    <div class="text-center">
                        <i class="fas fa-flask text-8xl text-red-400"></i>
                        <h4 class="text-xl font-bold mt-2">Acid</h4>
                        <button class="litmus-test-btn mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg" data-type="acid">Dip Blue Litmus</button>
                    </div>
                    <!-- Base Beaker -->
                     <div class="text-center">
                        <i class="fas fa-flask text-8xl text-blue-400"></i>
                        <h4 class="text-xl font-bold mt-2">Base</h4>
                        <button class="litmus-test-btn mt-4 bg-red-500 text-white px-4 py-2 rounded-lg" data-type="base">Dip Red Litmus</button>
                    </div>
                </div>
                <p id="litmus-result" class="text-center font-semibold text-2xl mt-8 h-8"></p>
            </div>
        </section>

        <!-- Chapter 4: Physical & Chemical Changes -->
        <section id="chapter4" class="py-16 bg-gray-50 rounded-3xl">
            <h2 class="text-4xl font-bold text-center mb-12">Chapter 4: Physical & Chemical Changes</h2>
            <div class="bg-white p-8 rounded-2xl shadow-xl">
                <h3 class="text-2xl font-semibold text-center mb-6">Sort the Changes!</h3>
                <p class="text-center text-gray-600 mb-6">Click on a card to classify it as a Physical or Chemical change.</p>
                <div id="change-cards-container" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                    <!-- Cards will be injected by JS -->
                </div>
                <div class="flex justify-around">
                    <div>
                        <h4 class="text-xl font-bold text-center mb-2">Physical Changes</h4>
                        <div id="physical-box" class="min-h-[100px] bg-blue-100 p-4 rounded-lg border-2 border-dashed border-blue-400"></div>
                    </div>
                     <div>
                        <h4 class="text-xl font-bold text-center mb-2">Chemical Changes</h4>
                        <div id="chemical-box" class="min-h-[100px] bg-red-100 p-4 rounded-lg border-2 border-dashed border-red-400"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quiz Zone Section -->
        <section id="quiz-zone" class="py-16">
            <div class="text-center">
                <h2 class="text-4xl font-bold text-center mb-4">Quiz Zone</h2>
                <p class="text-lg text-gray-600 mb-8">Ready to test your knowledge? Enter the Quiz Zone!</p>
                <button id="enter-quiz-btn" class="bg-indigo-600 text-white font-bold py-4 px-10 rounded-full text-xl hover:bg-indigo-700 transition-transform hover:scale-105">Start Quiz</button>
            </div>

            <!-- All quiz screens will be managed here -->
            <div id="quiz-app-container" class="mt-12">
                <!-- Welcome Screen -->
                <div id="welcome-screen" class="hidden main-screen text-white text-center p-8 rounded-2xl shadow-2xl max-w-lg mx-auto fade-in">
                    <h1 class="text-4xl md:text-5xl font-bold mb-4">Science Quiz Adventure!</h1>
                    <div class="my-6">
                        <input type="text" id="name-input" placeholder="Enter your name" class="w-full px-4 py-3 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-white/50">
                    </div>
                    <button id="start-btn" class="bg-white text-indigo-600 font-bold py-3 px-8 rounded-full text-xl hover:bg-gray-200 transition-all duration-300 shadow-lg hover:shadow-xl mt-4">Let's Go!</button>
                    <p class="mt-8 text-sm text-white/70">© 2024 | Made by Sourav sir</p>
                </div>

                <!-- Level Selection Screen -->
                <div id="level-selection-screen" class="hidden w-full max-w-2xl mx-auto p-8 rounded-2xl shadow-2xl fade-in">
                    <h1 id="level-selection-greeting" class="text-3xl font-bold text-gray-800 mb-6 text-center">Select a Level</h1>
                    <div id="level-buttons-container" class="grid grid-cols-2 sm:grid-cols-3 gap-4"></div>
                </div>

                <!-- Quiz Container -->
                <div id="quiz-container" class="hidden w-full max-w-3xl mx-auto p-4 sm:p-6 md:p-8 rounded-2xl shadow-2xl quiz-container fade-in">
                    <div id="quiz-header" class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold text-gray-700">Level <span id="level-number"></span>: Question <span id="question-number"></span>/<span id="total-questions"></span></h2>
                        <div class="text-lg font-semibold text-indigo-600">Score: <span id="score">0</span></div>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6"><div id="timer-bar" class="bg-indigo-500 h-2.5 rounded-full" style="width: 100%"></div></div>
                    <div id="question-card" class="mb-6">
                        <p id="question-text" class="text-xl md:text-2xl font-semibold text-gray-800 mb-6"></p>
                        <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                    </div>
                </div>

                <!-- Level Complete Screen -->
                <div id="level-complete-screen" class="hidden text-center p-8 rounded-2xl shadow-2xl max-w-lg mx-auto bg-white fade-in">
                    <h1 id="level-complete-title" class="text-4xl font-bold text-gray-800 mb-4"></h1>
                    <p class="text-2xl text-gray-600 mb-2">Level Score:</p>
                    <p id="level-score" class="text-6xl font-bold text-indigo-600 mb-8"></p>
                    <div class="flex flex-wrap gap-4 justify-center">
                        <button id="next-level-btn" class="bg-green-500 text-white font-bold py-3 px-6 rounded-full text-lg hover:bg-green-600 shadow-lg">Next Level</button>
                        <button id="retry-level-btn" class="bg-indigo-600 text-white font-bold py-3 px-6 rounded-full text-lg hover:bg-indigo-700 shadow-lg">Try Again</button>
                        <button id="review-mistakes-btn" class="bg-yellow-500 text-white font-bold py-3 px-6 rounded-full text-lg hover:bg-yellow-600 shadow-lg hidden">Review Mistakes</button>
                        <button id="back-to-levels-btn" class="bg-gray-500 text-white font-bold py-3 px-6 rounded-full text-lg hover:bg-gray-600 shadow-lg">Back to Levels</button>
                    </div>
                </div>
                
                <!-- Review Screen -->
                <div id="review-screen" class="hidden w-full max-w-3xl mx-auto p-8 rounded-2xl shadow-2xl fade-in review-screen">
                    <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Review Your Mistakes</h1>
                    <div id="review-container" class="space-y-6 max-h-[60vh] overflow-y-auto pr-4"></div>
                    <div class="text-center mt-8"><button id="back-from-review-btn" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-indigo-700 shadow-lg">Back to Results</button></div>
                </div>

                <!-- Final Results Screen -->
                <div id="final-results-screen" class="hidden text-center p-8 rounded-2xl shadow-2xl max-w-lg mx-auto bg-white fade-in">
                    <h1 class="text-4xl font-bold text-gray-800 mb-4">Congratulations!</h1>
                    <p class="text-xl text-gray-600 mb-2">You have completed all levels!</p>
                    <p class="text-2xl text-gray-600 mb-2">Your Total Score:</p>
                    <p id="final-score" class="text-6xl font-bold text-indigo-600 mb-8"></p>
                    <button id="restart-btn" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-full text-xl hover:bg-indigo-700 shadow-lg">Play Again</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Explanation Modal -->
    <div id="explanation-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop">
        <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full text-center fade-in">
            <h2 id="explanation-title" class="text-2xl font-bold mb-4"></h2>
            <p id="explanation-text" class="text-gray-700 mb-6"></p>
            <button id="next-question-btn" class="bg-indigo-600 text-white font-bold py-2 px-6 rounded-full hover:bg-indigo-700">Next Question</button>
        </div>
    </div>

    <script>
        // --- ALL QUESTIONS (200 total) ---
        const allQuestions = [
            // Original 100 questions...
            { question: "What is the process by which green plants make their own food?", options: ["Respiration", "Photosynthesis", "Transpiration", "Pollination"], answer: "Photosynthesis", explanation: "Photosynthesis is the process where green plants use sunlight, water, and carbon dioxide to create their own food (glucose) and release oxygen." },
            { question: "What are organisms that make their own food from simple substances called?", options: ["Heterotrophs", "Saprotrophs", "Autotrophs", "Parasites"], answer: "Autotrophs", explanation: "Autotrophs are organisms that can produce their own food, using materials from inorganic sources." },
            { question: "Which part of the plant is known as the 'food factory'?", options: ["Roots", "Stem", "Flower", "Leaves"], answer: "Leaves", explanation: "Leaves are the primary sites of photosynthesis, the process of food production in plants." },
            { question: "What are the tiny pores on the surface of leaves through which gases enter?", options: ["Stomata", "Chloroplasts", "Guard cells", "Veins"], answer: "Stomata", explanation: "Stomata are small openings on the epidermis of leaves, crucial for gas exchange." },
            { question: "Which pigment is responsible for the green color of plants and traps sunlight?", options: ["Carotene", "Xanthophyll", "Chlorophyll", "Anthocyanin"], answer: "Chlorophyll", explanation: "Chlorophyll is the green pigment in chloroplasts that absorbs light energy from the sun for photosynthesis." },
            { question: "Which of these is an insectivorous plant?", options: ["Cuscuta", "Mushroom", "Pitcher Plant", "Lichen"], answer: "Pitcher Plant", explanation: "Insectivorous plants like the Pitcher Plant trap insects to supplement their nutrient intake, especially nitrogen." },
            { question: "A relationship where two organisms live together and mutually benefit is called:", options: ["Parasitism", "Symbiosis", "Saprophytism", "Predation"], answer: "Symbiosis", explanation: "Symbiosis is a close interaction where both organisms benefit, like in lichens (algae and fungus)." },
            { question: "Which bacteria, found in root nodules, can fix atmospheric nitrogen?", options: ["Lactobacillus", "Rhizobium", "E. coli", "Streptococcus"], answer: "Rhizobium", explanation: "Rhizobium bacteria convert atmospheric nitrogen into a usable form for leguminous plants." },
            { question: "Plants that derive food from dead and decaying matter are called:", options: ["Parasites", "Autotrophs", "Saprotrophs", "Insectivores"], answer: "Saprotrophs", explanation: "Saprotrophs, like fungi, decompose dead organic matter for nutrients." },
            { question: "Cuscuta (Amarbel) is an example of a:", options: ["Saprotroph", "Parasite", "Autotroph", "Symbiont"], answer: "Parasite", explanation: "Cuscuta is a parasitic plant that absorbs nutrients directly from a host plant." },
            { question: "The breakdown of complex food into simpler substances is called:", options: ["Ingestion", "Assimilation", "Egestion", "Digestion"], answer: "Digestion", explanation: "Digestion is the process of breaking down large food molecules into smaller ones that can be absorbed." },
            { question: "Which is the largest gland in the human body?", options: ["Pancreas", "Salivary Gland", "Liver", "Adrenal Gland"], answer: "Liver", explanation: "The liver is the largest gland, producing bile juice which aids in fat digestion." },
            { question: "Finger-like outgrowths in the small intestine are called:", options: ["Villi", "Cilia", "Pseudopodia", "Tentacles"], answer: "Villi", explanation: "Villi increase the surface area of the small intestine for efficient absorption of digested food." },
            { question: "Amoeba uses which of the following to engulf food?", options: ["Cilia", "Flagella", "Tentacles", "Pseudopodia"], answer: "Pseudopodia", explanation: "Amoeba uses pseudopodia (false feet) to surround and engulf food particles." },
            { question: "Grass-eating animals that re-chew their food are called:", options: ["Carnivores", "Omnivores", "Ruminants", "Herbivores"], answer: "Ruminants", explanation: "Ruminants have a specialized digestive system to digest tough plant matter by regurgitating and re-chewing it as cud." },
            { question: "Digestion of starch begins in the:", options: ["Stomach", "Small Intestine", "Buccal cavity (Mouth)", "Large Intestine"], answer: "Buccal cavity (Mouth)", explanation: "Starch digestion starts in the mouth with the enzyme amylase found in saliva." },
            { question: "Which acid is produced in the stomach?", options: ["Sulphuric Acid", "Acetic Acid", "Hydrochloric Acid", "Nitric Acid"], answer: "Hydrochloric Acid", explanation: "The stomach produces hydrochloric acid to kill bacteria and provide an acidic environment for enzymes." },
            { question: "The process of removing undigested waste is called:", options: ["Digestion", "Absorption", "Assimilation", "Egestion"], answer: "Egestion", explanation: "Egestion is the removal of undigested waste materials from the body." },
            { question: "Which teeth are used for tearing food?", options: ["Incisors", "Canines", "Premolars", "Molars"], answer: "Canines", explanation: "Canines are pointed teeth used for gripping and tearing food." },
            { question: "Bile juice is secreted by the:", options: ["Pancreas", "Stomach", "Liver", "Small Intestine"], answer: "Liver", explanation: "The liver produces bile, which emulsifies fats, breaking them into smaller droplets." },
            { question: "Substances that are sour in taste are generally:", options: ["Acids", "Bases", "Salts", "Neutral"], answer: "Acids", explanation: "Acids have a characteristic sour taste, like lemon juice (citric acid)." },
            { question: "What color does blue litmus paper turn in an acidic solution?", options: ["Blue", "Red", "Green", "Yellow"], answer: "Red", explanation: "Acids turn blue litmus paper red, a common test for acidity." },
            { question: "Substances that are bitter and feel soapy are:", options: ["Acids", "Bases", "Salts", "Indicators"], answer: "Bases", explanation: "Bases are known for their bitter taste and soapy feel, like baking soda solution." },
            { question: "The reaction between an acid and a base is known as:", options: ["Oxidation", "Reduction", "Neutralisation", "Decomposition"], answer: "Neutralisation", explanation: "A neutralisation reaction between an acid and a base produces salt and water." },
            { question: "Which of the following is a natural indicator?", options: ["Phenolphthalein", "Methyl Orange", "Turmeric", "Litmus Paper"], answer: "Turmeric", explanation: "Turmeric is a natural indicator that turns red in basic solutions." },
            { question: "What is the acid present in an ant sting?", options: ["Acetic acid", "Formic acid", "Citric acid", "Lactic acid"], answer: "Formic acid", explanation: "An ant's sting injects formic acid, causing irritation. It can be neutralised by a mild base." },
            { question: "The nature of tooth paste is generally:", options: ["Acidic", "Basic", "Neutral", "Corrosive"], answer: "Basic", explanation: "Toothpastes are basic to neutralize the acids produced by bacteria in the mouth, preventing tooth decay." },
            { question: "What color does phenolphthalein turn in a basic solution?", options: ["Colorless", "Red", "Yellow", "Pink"], answer: "Pink", explanation: "Phenolphthalein is a synthetic indicator that turns pink in basic solutions." },
            { question: "What are the products of a neutralisation reaction?", options: ["Acid and Base", "Salt and Water", "Acid and Water", "Base and Salt"], answer: "Salt and Water", explanation: "A neutralisation reaction always yields a salt and water." },
            { question: "Which of the following is a strong acid?", options: ["Acetic acid", "Citric acid", "Sulphuric acid", "Lactic acid"], answer: "Sulphuric acid", explanation: "Sulphuric acid is a strong mineral acid, while the others are weaker organic acids." },
            { question: "Which of the following is a physical change?", options: ["Rusting of iron", "Burning of paper", "Melting of ice", "Digestion of food"], answer: "Melting of ice", explanation: "Melting is a physical change of state from solid to liquid; no new substance is formed." },
            { question: "A change in which a new substance is formed is called a:", options: ["Physical change", "Chemical change", "Reversible change", "Temporary change"], answer: "Chemical change", explanation: "A chemical change results in new substances with different properties." },
            { question: "The process of depositing a layer of zinc on iron is called:", options: ["Painting", "Oiling", "Galvanisation", "Crystallisation"], answer: "Galvanisation", explanation: "Galvanisation protects iron from rusting by coating it with a protective layer of zinc." },
            { question: "Rusting of iron requires the presence of:", options: ["Oxygen only", "Water only", "Both oxygen and water", "Nitrogen and carbon dioxide"], answer: "Both oxygen and water", explanation: "Iron rusts when it is exposed to both oxygen and moisture." },
            { question: "Which is an example of a chemical change?", options: ["Tearing paper", "Boiling water", "Dissolving sugar in water", "Burning a magnesium ribbon"], answer: "Burning a magnesium ribbon", explanation: "Burning magnesium creates a new substance, magnesium oxide, in a chemical reaction that releases light and heat." },
            { question: "Obtaining large pure crystals from a solution is known as:", options: ["Evaporation", "Sublimation", "Crystallisation", "Condensation"], answer: "Crystallisation", explanation: "Crystallisation is a technique used to purify solids by forming crystals from a solution." },
            { question: "What is the chemical name for rust?", options: ["Iron Sulphide", "Iron Carbonate", "Iron(III) Oxide", "Iron Chloride"], answer: "Iron(III) Oxide", explanation: "Rust is hydrated iron(III) oxide, formed by the reaction of iron with oxygen and water." },
            { question: "Cutting a log of wood into pieces is a:", options: ["Chemical change", "Irreversible physical change", "Physical change", "Both A and B"], answer: "Physical change", explanation: "Cutting wood is a physical change as it only alters its size and shape, not its chemical nature." },
            { question: "When baking soda is mixed with vinegar, bubbles are formed. This is a:", options: ["Physical change", "Chemical change", "No change", "Melting process"], answer: "Chemical change", explanation: "The bubbles are carbon dioxide gas, a new substance formed from the reaction, indicating a chemical change." },
            { question: "Stainless steel is an alloy of iron with:", options: ["Copper and Tin", "Zinc and Lead", "Chromium and Nickel", "Aluminum and Magnesium"], answer: "Chromium and Nickel", explanation: "Adding chromium and nickel to iron creates stainless steel, an alloy that is resistant to rust." },
            { question: "What is the ultimate source of energy for all living organisms?", options: ["Water", "Soil", "Sun", "Moon"], answer: "Sun", explanation: "The Sun provides the energy for photosynthesis, which is the base of almost all food chains on Earth." },
            { question: "Which animals eat both plants and animals?", options: ["Herbivores", "Carnivores", "Omnivores", "Decomposers"], answer: "Omnivores", explanation: "Omnivores, like humans and bears, have a diet that includes both plant and animal matter." },
            { question: "The process of taking food into the body is called:", options: ["Digestion", "Ingestion", "Absorption", "Egestion"], answer: "Ingestion", explanation: "Ingestion is the act of eating or taking food into the mouth." },
            { question: "What is the name of the food pipe?", options: ["Trachea", "Oesophagus", "Larynx", "Intestine"], answer: "Oesophagus", explanation: "The oesophagus is the muscular tube that connects the throat (pharynx) with the stomach." },
            { question: "Which part of the digestive system absorbs water?", options: ["Small intestine", "Large intestine", "Stomach", "Liver"], answer: "Large intestine", explanation: "The large intestine's primary role is to absorb water from the remaining indigestible food matter." },
            { question: "What is the sticky film on teeth called?", options: ["Enamel", "Dentine", "Plaque", "Pulp"], answer: "Plaque", explanation: "Plaque is a sticky film of bacteria and food debris that forms on teeth and can cause decay." },
            { question: "Which teeth are for grinding and chewing?", options: ["Incisors", "Canines", "Premolars and Molars", "All of them"], answer: "Premolars and Molars", explanation: "Premolars and molars have flat surfaces designed for grinding food." },
            { question: "What is the re-chewed food of a ruminant called?", options: ["Chyme", "Cud", "Bile", "Faeces"], answer: "Cud", explanation: "Ruminants regurgitate partially digested food, known as cud, to chew it more completely." },
            { question: "Which substance can ruminants digest but humans cannot?", options: ["Starch", "Protein", "Fat", "Cellulose"], answer: "Cellulose", explanation: "Ruminants have symbiotic bacteria that can break down cellulose, a major component of plant cell walls." },
            { question: "The process of using absorbed food for energy and growth is:", options: ["Egestion", "Digestion", "Assimilation", "Absorption"], answer: "Assimilation", explanation: "Assimilation is when the body's cells utilize the absorbed nutrients for various life processes." },
            { question: "What acid is in citrus fruits?", options: ["Lactic acid", "Acetic acid", "Citric acid", "Tartaric acid"], answer: "Citric acid", explanation: "Citrus fruits like lemons and oranges contain citric acid, giving them their sour taste." },
            { question: "Which of these is a strong base?", options: ["Ammonium hydroxide", "Sodium hydroxide", "Magnesium hydroxide", "Copper hydroxide"], answer: "Sodium hydroxide", explanation: "Sodium hydroxide (caustic soda) is a strong base that fully ionizes in water." },
            { question: "What is the common name for Calcium Hydroxide?", options: ["Limewater", "Vinegar", "Baking soda", "Washing soda"], answer: "Limewater", explanation: "An aqueous solution of calcium hydroxide is called limewater." },
            { question: "China rose indicator turns acidic solutions what color?", options: ["Green", "Dark pink (magenta)", "Yellow", "Blue"], answer: "Dark pink (magenta)", explanation: "China rose indicator turns acidic solutions to magenta and basic solutions to green." },
            { question: "How is acidic soil treated?", options: ["Manure", "Vinegar", "Quicklime or Slaked lime", "Salt"], answer: "Quicklime or Slaked lime", explanation: "Acidic soil is neutralized by adding a base like quicklime (calcium oxide) or slaked lime (calcium hydroxide)." },
            { question: "A solid changing directly to a gas is called:", options: ["Melting", "Freezing", "Evaporation", "Sublimation"], answer: "Sublimation", explanation: "Sublimation is the transition of a substance directly from the solid to the gas state." },
            { question: "Burning a candle involves:", options: ["Only a physical change", "Only a chemical change", "Both physical and chemical changes", "Neither"], answer: "Both physical and chemical changes", explanation: "Melting wax is physical; burning it is chemical." },
            { question: "CO2 turns limewater milky due to the formation of:", options: ["Calcium Carbonate", "Calcium Oxide", "Calcium Hydroxide", "Carbonic Acid"], answer: "Calcium Carbonate", explanation: "The milky precipitate formed is calcium carbonate, which is insoluble in water." },
            { question: "Formation of manure from leaves is a:", options: ["Physical change", "Chemical change", "Reversible change", "No change"], answer: "Chemical change", explanation: "Decomposition of leaves into manure is a complex chemical process." },
            { question: "An apple turning brown is a:", options: ["It changes color", "It reacts with oxygen", "A new substance is formed", "All of the above"], answer: "All of the above", explanation: "The browning is a chemical reaction (oxidation) that forms new compounds." },
            { question: "Which organism uses cilia to sweep food?", options: ["Amoeba", "Paramecium", "Hydra", "Frog"], answer: "Paramecium", explanation: "Paramecium uses its cilia to create water currents to bring food into its oral groove." },
            { question: "How many permanent teeth does an adult have?", options: ["20", "28", "32", "36"], answer: "32", explanation: "A full set of adult permanent teeth consists of 32 teeth." },
            { question: "What is the hardest substance in the body?", options: ["Bone", "Dentine", "Enamel", "Pulp"], answer: "Enamel", explanation: "Tooth enamel is the hardest and most highly mineralized substance in the body." },
            { question: "The small intestine is about how long?", options: ["1.5 meters", "3 meters", "5 meters", "7.5 meters"], answer: "7.5 meters", explanation: "The small intestine is remarkably long to maximize nutrient absorption." },
            { question: "Main function of the large intestine?", options: ["Digest proteins", "Digest fats", "Absorb nutrients", "Absorb water and salts"], answer: "Absorb water and salts", explanation: "The large intestine compacts waste and reclaims water and electrolytes." },
            { question: "Which acid is in vinegar?", options: ["Formic acid", "Citric acid", "Acetic acid", "Lactic acid"], answer: "Acetic acid", explanation: "Vinegar is essentially a dilute solution of acetic acid." },
            { question: "Chemical formula for water?", options: ["CO2", "O2", "H2O", "NaCl"], answer: "H2O", explanation: "A water molecule consists of two hydrogen atoms bonded to one oxygen atom." },
            { question: "What color does turmeric paper turn in a base?", options: ["Stays yellow", "Turns blue", "Turns red", "Becomes colorless"], answer: "Turns red", explanation: "The curcumin in turmeric acts as an indicator, turning red in basic conditions." },
            { question: "Common name for Sodium Bicarbonate?", options: ["Washing Soda", "Baking Soda", "Caustic Soda", "Bleaching Powder"], answer: "Baking Soda", explanation: "Sodium Bicarbonate is the chemical name for common baking soda." },
            { question: "A liquid changing to a gas is called:", options: ["Condensation", "Freezing", "Evaporation", "Melting"], answer: "Evaporation", explanation: "Evaporation is the process of a liquid turning into a gas at its surface." },
            { question: "Main food product of photosynthesis?", options: ["Oxygen", "Carbon Dioxide", "Glucose", "Water"], answer: "Glucose", explanation: "Plants produce glucose (a sugar) as their primary energy source through photosynthesis." },
            { question: "Which is NOT required for photosynthesis?", options: ["Sunlight", "Chlorophyll", "Oxygen", "Carbon Dioxide"], answer: "Oxygen", explanation: "Oxygen is a waste product of photosynthesis; it is released, not consumed." },
            { question: "Nutrition mode in fungi?", options: ["Autotrophic", "Parasitic", "Saprotrophic", "Symbiotic"], answer: "Saprotrophic", explanation: "Fungi feed by absorbing nutrients from dead organic matter, which is saprotrophic nutrition." },
            { question: "First set of teeth in infancy?", options: ["Permanent teeth", "Wisdom teeth", "Milk teeth", "Canines"], answer: "Milk teeth", explanation: "The first set of teeth are called milk teeth or deciduous teeth." },
            { question: "Chewing food is also known as:", options: ["Mastication", "Ingestion", "Peristalsis", "Assimilation"], answer: "Mastication", explanation: "Mastication is the mechanical grinding of food by the teeth." },
            { question: "Wave-like muscle contractions in the digestive tract?", options: ["Circulation", "Respiration", "Peristalsis", "Flexion"], answer: "Peristalsis", explanation: "Peristalsis propels food down the digestive tract." },
            { question: "Which organ produces pancreatic juice?", options: ["Liver", "Stomach", "Pancreas", "Gall bladder"], answer: "Pancreas", explanation: "The pancreas secretes digestive enzymes into the small intestine." },
            { question: "Acid in sour milk and curd?", options: ["Citric acid", "Lactic acid", "Acetic acid", "Formic acid"], answer: "Lactic acid", explanation: "Lactic acid is formed by the fermentation of lactose in milk." },
            { question: "A solution that doesn't change litmus color is:", options: ["Acidic", "Basic", "Neutral", "Salty"], answer: "Neutral", explanation: "Neutral solutions have a pH of 7 and do not affect litmus." },
            { question: "Which is a reversible change?", options: ["Burning wood", "Rusting iron", "Folding a paper", "Baking a cake"], answer: "Folding a paper", explanation: "Folding is a physical change that can be easily reversed by unfolding." },
            { question: "The green color of leaves is due to:", options: ["Stomata", "Chloroplasts", "Chlorophyll", "Veins"], answer: "Chlorophyll", explanation: "Chlorophyll is the pigment that absorbs sunlight for photosynthesis." },
            { question: "Gas released during photosynthesis?", options: ["Carbon Dioxide", "Nitrogen", "Oxygen", "Hydrogen"], answer: "Oxygen", explanation: "Plants release oxygen as a byproduct of photosynthesis." },
            { question: "A frog's sticky tongue is for:", options: ["Ingestion", "Procuring food", "Digestion", "Assimilation"], answer: "Procuring food", explanation: "It's a specialized adaptation for catching prey." },
            { question: "The four types of teeth are incisors, canines, premolars, and ____.", options: ["Bicuspids", "Molars", "Wisdom teeth", "Frontals"], answer: "Molars", explanation: "Molars are the large teeth at the back of the mouth used for grinding." },
            { question: "Base used in whitewashing?", options: ["Sodium Hydroxide", "Calcium Hydroxide", "Ammonium Hydroxide", "Magnesium Hydroxide"], answer: "Calcium Hydroxide", explanation: "Slaked lime (calcium hydroxide) is used for whitewashing walls." },
            { question: "Taste of a base?", options: ["Sour", "Sweet", "Salty", "Bitter"], answer: "Bitter", explanation: "A characteristic property of bases is a bitter taste." },
            { question: "Digesting food is what type of change?", options: ["Physical", "Chemical", "Reversible", "Temporary"], answer: "Chemical", explanation: "Digestion breaks down food into entirely new chemical substances." },
            { question: "Water vapor turning to liquid is:", options: ["Evaporation", "Condensation", "Sublimation", "Melting"], answer: "Condensation", explanation: "Condensation is the change from a gaseous to a liquid state." },
            { question: "Chemical symbol for Iron?", options: ["I", "Ir", "Fe", "Au"], answer: "Fe", explanation: "Fe comes from the Latin word 'ferrum'." },
            { question: "Dissolving salt in water is a:", options: ["Chemical change", "Physical change", "Permanent change", "Irreversible change"], answer: "Physical change", explanation: "The salt and water are not chemically altered and can be separated." },
            { question: "Producers of the food chain?", options: ["Carnivores", "Green plants (Autotrophs)", "Herbivores", "Omnivores"], answer: "Green plants (Autotrophs)", explanation: "Autotrophs produce their own food and support the rest of the food web." },
            { question: "Function of roots in photosynthesis?", options: ["Absorb CO2", "Absorb sunlight", "Absorb water and minerals", "Produce food"], answer: "Absorb water and minerals", explanation: "Roots are essential for taking up water, a key reactant in photosynthesis." },
            { question: "A spider's web is for:", options: ["Digesting food", "Building a home", "Procuring food", "Reproducing"], answer: "Procuring food", explanation: "The web is a trap for catching the spider's meals." },
            { question: "Final digestion and absorption occurs in the:", options: ["Stomach", "Large Intestine", "Small Intestine", "Mouth"], answer: "Small Intestine", explanation: "The vast majority of nutrient absorption happens in the small intestine." },
            { question: "Which is NOT a mineral acid?", options: ["Hydrochloric acid", "Sulphuric acid", "Nitric acid", "Citric acid"], answer: "Citric acid", explanation: "Citric acid is a weak organic acid, unlike the strong mineral acids listed." },
            // New 100 questions
            { question: "The tiny filtering tubes in the kidneys are called:", options: ["Neurons", "Nephrons", "Alveoli", "Villi"], answer: "Nephrons", explanation: "Nephrons are the microscopic structural and functional units of the kidney, responsible for filtering blood and forming urine." },
            { question: "Which blood cells are responsible for carrying oxygen?", options: ["White Blood Cells", "Platelets", "Red Blood Cells", "Plasma"], answer: "Red Blood Cells", explanation: "Red blood cells contain hemoglobin, a protein that binds to oxygen in the lungs and transports it to tissues throughout the body." },
            { question: "The process of releasing energy from food is called:", options: ["Photosynthesis", "Respiration", "Digestion", "Excretion"], answer: "Respiration", explanation: "Cellular respiration is the process where cells break down glucose and other food molecules in the presence of oxygen to release energy." },
            { question: "Which part of the flower develops into a fruit?", options: ["Petal", "Sepal", "Ovary", "Stamen"], answer: "Ovary", explanation: "After fertilization, the ovary of a flower swells and develops into a fruit, which encloses the seeds." },
            { question: "The transfer of pollen from the anther to the stigma is called:", options: ["Fertilization", "Pollination", "Germination", "Dispersal"], answer: "Pollination", explanation: "Pollination is a crucial step in plant reproduction, leading to the fertilization of ovules and the development of seeds." },
            { question: "Asexual reproduction in yeast occurs through:", options: ["Spores", "Budding", "Fragmentation", "Fission"], answer: "Budding", explanation: "Yeast, a single-celled fungus, reproduces asexually by budding, where a small outgrowth or 'bud' forms on the parent cell and eventually detaches." },
            { question: "The speed of an object is a measure of:", options: ["How fast it is moving", "Its direction of motion", "Its change in velocity", "The force on it"], answer: "How fast it is moving", explanation: "Speed is a scalar quantity that refers to 'how fast an object is moving.' It is the distance traveled per unit of time." },
            { question: "The standard unit of time is:", options: ["Minute", "Hour", "Second", "Day"], answer: "Second", explanation: "The base unit of time in the International System of Units (SI) is the second." },
            { question: "A device used to open or close an electric circuit is a:", options: ["Resistor", "Bulb", "Switch", "Battery"], answer: "Switch", explanation: "A switch is a simple component that controls the flow of current in an electric circuit by making or breaking the connection." },
            { question: "When a current flows through a wire, it behaves like a:", options: ["Lens", "Mirror", "Magnet", "Spring"], answer: "Magnet", explanation: "This is the magnetic effect of electric current. An electric current flowing through a wire produces a magnetic field around it." },
            { question: "A concave lens always forms which type of image?", options: ["Real and inverted", "Virtual and erect", "Real and erect", "Virtual and inverted"], answer: "Virtual and erect", explanation: "A concave lens is a diverging lens, and it always forms a virtual, erect, and diminished image, regardless of the object's position." },
            { question: "The splitting of white light into its seven constituent colors is called:", options: ["Reflection", "Refraction", "Dispersion", "Interference"], answer: "Dispersion", explanation: "Dispersion occurs when white light passes through a prism, splitting into a spectrum of colors (VIBGYOR) because each color bends at a slightly different angle." },
            { question: "The water table is the:", options: ["Level of water in a river", "Level of rainwater collected", "Upper level of groundwater", "Level of water in a dam"], answer: "Upper level of groundwater", explanation: "The water table is the upper surface of the zone of saturation, where the soil or rocks are permanently saturated with water." },
            { question: "The process of seeping of water into the ground is called:", options: ["Evaporation", "Condensation", "Infiltration", "Precipitation"], answer: "Infiltration", explanation: "Infiltration is the process by which water on the ground surface enters the soil." },
            { question: "Which gas protects us from the harmful ultraviolet rays of the sun?", options: ["Oxygen", "Nitrogen", "Ozone", "Carbon Dioxide"], answer: "Ozone", explanation: "The ozone layer in the stratosphere absorbs most of the Sun's harmful ultraviolet (UV) radiation." },
            { question: "The waste water from homes, industries, and hospitals is called:", options: ["Sludge", "Sewage", "Contaminant", "Biogas"], answer: "Sewage", explanation: "Sewage is the wastewater that contains dissolved and suspended impurities, also known as contaminants." },
            { question: "Which of these is a part of the stamen?", options: ["Ovary", "Style", "Stigma", "Anther"], answer: "Anther", explanation: "The stamen is the male reproductive part of a flower, consisting of the anther (which produces pollen) and the filament." },
            { question: "The fusion of male and female gametes is called:", options: ["Pollination", "Fertilization", "Germination", "Reproduction"], answer: "Fertilization", explanation: "Fertilization is the process that results in the formation of a zygote, which develops into an embryo." },
            { question: "The distance-time graph for an object moving at a constant speed is a:", options: ["Curved line", "Straight line", "Circle", "Zig-zag line"], answer: "Straight line", explanation: "A straight line on a distance-time graph indicates that the object is covering equal distances in equal intervals of time, which means it has a constant speed." },
            { question: "An electric bell works on the principle of:", options: ["Heating effect of current", "Chemical effect of current", "Magnetic effect of current", "Laser effect"], answer: "Magnetic effect of current", explanation: "An electric bell uses an electromagnet that turns on and off rapidly, causing a hammer to strike a gong." },
            { question: "The image formed by a plane mirror is always:", options: ["Real and inverted", "Virtual and erect", "Real and magnified", "Virtual and diminished"], answer: "Virtual and erect", explanation: "A plane mirror forms a virtual, erect image that is the same size as the object and laterally inverted." },
            { question: "Which of the following is a renewable source of water?", options: ["Groundwater", "Oceans", "Glaciers", "Rain"], answer: "Rain", explanation: "Rain is a key part of the water cycle and is considered a renewable source, replenishing freshwater supplies." },
            { question: "The process of cleaning wastewater before releasing it is called:", options: ["Chlorination", "Filtration", "Wastewater treatment", "Sedimentation"], answer: "Wastewater treatment", explanation: "Wastewater treatment is a multi-stage process to remove contaminants from sewage to make it safe for release into the environment." },
            { question: "Which of these is a biodegradable waste?", options: ["Plastic bag", "Glass bottle", "Vegetable peels", "Metal can"], answer: "Vegetable peels", explanation: "Biodegradable waste, like vegetable peels, can be broken down naturally by microorganisms." },
            { question: "The reproductive part of a plant is the:", options: ["Leaf", "Stem", "Root", "Flower"], answer: "Flower", explanation: "Flowers contain the reproductive organs of a plant, the stamens (male) and pistil/carpel (female)." },
            { question: "Seeds of coconut are dispersed by:", options: ["Wind", "Water", "Animals", "Explosion"], answer: "Water", explanation: "Coconuts have a fibrous, buoyant outer husk that allows them to float and be dispersed by water currents." },
            { question: "A simple pendulum completes 20 oscillations in 40 seconds. What is its time period?", options: ["2 seconds", "0.5 seconds", "20 seconds", "40 seconds"], answer: "2 seconds", explanation: "The time period is the time taken for one oscillation. Time Period = Total Time / Number of Oscillations = 40s / 20 = 2s." },
            { question: "A combination of two or more cells is called a:", options: ["Switch", "Circuit", "Battery", "Filament"], answer: "Battery", explanation: "A battery consists of one or more electrochemical cells connected together to provide electric power." },
            { question: "A rainbow is a natural phenomenon showing:", options: ["Reflection", "Dispersion", "Scattering", "Interference"], answer: "Dispersion", explanation: "A rainbow is formed by the dispersion of sunlight by tiny water droplets suspended in the atmosphere after a rain shower." },
            { question: "World Water Day is celebrated on:", options: ["March 22", "April 22", "June 5", "December 1"], answer: "March 22", explanation: "World Water Day is an annual UN observance day held on March 22 to advocate for the sustainable management of freshwater resources." },
            { question: "The tubes that carry blood from the heart to all parts of the body are called:", options: ["Veins", "Arteries", "Capillaries", "Atria"], answer: "Arteries", explanation: "Arteries are blood vessels that carry oxygenated blood away from the heart to the rest of the body (except for the pulmonary artery)." },
            { question: "The rhythmic expansion and contraction of the heart is called:", options: ["Pulse", "Heartbeat", "Blood pressure", "Circulation"], answer: "Heartbeat", explanation: "A heartbeat is one complete cycle of contraction and relaxation of the heart muscle." },
            { question: "The process by which plants lose water through stomata is:", options: ["Photosynthesis", "Respiration", "Transpiration", "Absorption"], answer: "Transpiration", explanation: "Transpiration is the evaporation of water from plant leaves, which helps pull water up from the roots." },
            { question: "The male gamete in a plant is found inside the:", options: ["Ovule", "Pollen grain", "Stigma", "Ovary"], answer: "Pollen grain", explanation: "Pollen grains contain the male gametes of a flowering plant." },
            { question: "Which of these reproduce through spores?", options: ["Rose", "Yeast", "Potato", "Fern"], answer: "Fern", explanation: "Ferns are non-flowering plants that reproduce by releasing spores from the underside of their fronds." },
            { question: "The basic unit of speed is:", options: ["km/h", "m/min", "km/min", "m/s"], answer: "m/s", explanation: "The SI (standard international) unit for speed is meters per second (m/s)." },
            { question: "The coil of wire in an electric heater is called a:", options: ["Filament", "Element", "Switch", "Fuse"], answer: "Element", explanation: "The heating element is a resistor that converts electrical energy into heat energy." },
            { question: "A convex mirror is used as a:", options: ["Dentist's mirror", "Shaving mirror", "Car's headlight reflector", "Rear-view mirror in vehicles"], answer: "Rear-view mirror in vehicles", explanation: "Convex mirrors provide a wider field of view, making them ideal for use as rear-view mirrors." },
            { question: "The solid form of water is:", options: ["Vapour", "Dew", "Ice", "Steam"], answer: "Ice", explanation: "Ice is the solid state of water, which occurs when water is cooled below its freezing point of 0°C (32°F)." },
            { question: "The active component in sewage that helps in decomposition is:", options: ["Oil", "Plastics", "Bacteria", "Chemicals"], answer: "Bacteria", explanation: "Bacteria play a crucial role in breaking down organic waste during the wastewater treatment process." },
            { question: "What is the main function of white blood cells?", options: ["Carry oxygen", "Help in clotting", "Fight against germs", "Carry nutrients"], answer: "Fight against germs", explanation: "White blood cells (leukocytes) are a key part of the body's immune system, protecting it from infections and diseases." },
            { question: "The upper chambers of the human heart are called:", options: ["Ventricles", "Atria", "Aorta", "Septum"], answer: "Atria", explanation: "The human heart has four chambers: two upper atria (singular: atrium) that receive blood, and two lower ventricles that pump blood out." },
            { question: "In plants, water is transported through the:", options: ["Phloem", "Xylem", "Stomata", "Root hairs"], answer: "Xylem", explanation: "Xylem is a type of transport tissue in vascular plants that transports water and some nutrients from the roots to the rest of the plant." },
            { question: "The zygote develops into an:", options: ["Embryo", "Seed", "Fruit", "Gamete"], answer: "Embryo", explanation: "After fertilization, the zygote undergoes cell division and develops into an embryo, which is the early stage of a new organism." },
            { question: "A car travels 60 km in 2 hours. What is its speed?", options: ["30 km/h", "60 km/h", "120 km/h", "20 km/h"], answer: "30 km/h", explanation: "Speed = Distance / Time. So, the speed is 60 km / 2 hours = 30 km/h." },
            { question: "A fuse wire is used in an electric circuit to:", options: ["Increase the current", "Decrease the current", "Prevent excessive current", "Store electricity"], answer: "Prevent excessive current", explanation: "A fuse contains a wire that melts and breaks the circuit if the current becomes too high, thus protecting the appliance." },
            { question: "Which lens is thicker in the middle and thinner at the edges?", options: ["Concave lens", "Convex lens", "Plane lens", "Bifocal lens"], answer: "Convex lens", explanation: "A convex lens is a converging lens that is thicker at its center than at its edges." },
            { question: "Dripping taps can waste a lot of:", options: ["Electricity", "Time", "Water", "Heat"], answer: "Water", explanation: "A single dripping tap can waste several thousand liters of water per year, highlighting the importance of water conservation." },
            {
                "question": "The process of removing waste products from the body is known as:",
                "options": ["Excretion", "Respiration", "Circulation", "Digestion"],
                "answer": "Excretion",
                "explanation": "Excretion is the biological process by which an organism removes harmful metabolic waste products from its body."
            },
            {
                "question": "Which component of blood helps in clotting?",
                "options": ["Red Blood Cells", "White Blood Cells", "Platelets", "Plasma"],
                "answer": "Platelets",
                "explanation": "Platelets (or thrombocytes) are small, colorless cell fragments in our blood that form clots and stop or prevent bleeding."
            },
            {
                "question": "The transport of food from leaves to other parts of the plant is called:",
                "options": ["Transpiration", "Translocation", "Respiration", "Photosynthesis"],
                "answer": "Translocation",
                "explanation": "Translocation is the movement of sugars (produced during photosynthesis) from leaves to other parts of the plant through the phloem tissue."
            },
            {
                "question": "Reproduction from vegetative parts of a plant like root, stem, or leaf is called:",
                "options": ["Sexual reproduction", "Vegetative propagation", "Pollination", "Spore formation"],
                "answer": "Vegetative propagation",
                "explanation": "Vegetative propagation is a type of asexual reproduction where new plants grow from parts of the parent plant."
            },
            {
                "question": "The speedometer of a car measures:",
                "options": ["Average speed", "Distance traveled", "Instantaneous speed", "Time taken"],
                "answer": "Instantaneous speed",
                "explanation": "A speedometer shows the speed of the vehicle at a particular instant in time."
            },
            {
                "question": "CFLs are often used in place of incandescent bulbs because they:",
                "options": ["Are cheaper to buy", "Produce more heat", "Are more energy-efficient", "Contain mercury"],
                "answer": "Are more energy-efficient",
                "explanation": "Compact Fluorescent Lamps (CFLs) use less electricity to produce the same amount of light as traditional incandescent bulbs, making them more energy-efficient."
            },
            {
                "question": "An image that can be obtained on a screen is called a:",
                "options": ["Virtual image", "Real image", "Inverted image", "Erect image"],
                "answer": "Real image",
                "explanation": "A real image is formed where light rays actually converge or meet. It can be projected onto a screen. Convex lenses can form real images."
            },
            {
                "question": "The main source of freshwater is:",
                "options": ["Oceans", "Seas", "Rivers", "Rain"],
                "answer": "Rain",
                "explanation": "Rain is the primary source of freshwater on Earth, replenishing rivers, lakes, and groundwater through the water cycle."
            },
            {
                "question": "The large, upper part of the human brain is the:",
                "options": ["Cerebellum", "Medulla", "Cerebrum", "Brainstem"],
                "answer": "Cerebrum",
                "explanation": "The cerebrum is the largest part of the brain, responsible for higher functions like thought, language, memory, and voluntary movement."
            },
            {
                "question": "The 'lub-dub' sound of the heartbeat is caused by:",
                "options": ["Blood flowing", "Muscles contracting", "Valves closing", "Nerves firing"],
                "answer": "Valves closing",
                "explanation": "The characteristic 'lub-dub' sound is produced by the closing of the heart valves as blood is pumped through its chambers."
            },
            {
                "question": "The unisexual flower contains:",
                "options": ["Both stamen and pistil", "Either stamen or pistil", "Only petals", "No reproductive parts"],
                "answer": "Either stamen or pistil",
                "explanation": "A unisexual flower has either the male reproductive parts (stamens) or the female reproductive parts (pistil), but not both."
            },
            {
                "question": "The motion of a child on a swing is an example of:",
                "options": ["Rectilinear motion", "Circular motion", "Periodic motion", "Random motion"],
                "answer": "Periodic motion",
                "explanation": "Periodic motion is motion that repeats itself in equal intervals of time. The back-and-forth movement of a swing is a classic example."
            },
            {
                "question": "The material used for making the filament of an electric bulb is:",
                "options": ["Copper", "Aluminum", "Nichrome", "Tungsten"],
                "answer": "Tungsten",
                "explanation": "Tungsten has a very high melting point, which allows it to glow brightly without melting when heated by an electric current."
            },
            {
                "question": "Which of these can form a real, inverted, and magnified image?",
                "options": ["Concave lens", "Convex lens", "Plane mirror", "Convex mirror"],
                "answer": "Convex lens",
                "explanation": "A convex lens can form various types of images depending on the object's position, including a real, inverted, and magnified image (as in a projector)."
            },
            {
                "question": "The practice of growing different crops in succession on the same land is called:",
                "options": ["Crop rotation", "Mixed cropping", "Irrigation", "Weeding"],
                "answer": "Crop rotation",
                "explanation": "Crop rotation helps in replenishing soil nutrients and reducing the buildup of pests and diseases associated with a single crop."
            },
            {
                "question": "The artery that carries deoxygenated blood is the:",
                "options": ["Aorta", "Pulmonary artery", "Coronary artery", "Renal artery"],
                "answer": "Pulmonary artery",
                "explanation": "The pulmonary artery is unique as it carries deoxygenated blood from the right ventricle of the heart to the lungs."
            },
            {
                "question": "In humans, the site of gas exchange in the lungs is the:",
                "options": ["Trachea", "Bronchi", "Alveoli", "Diaphragm"],
                "answer": "Alveoli",
                "explanation": "Alveoli are tiny air sacs in the lungs where the exchange of oxygen and carbon dioxide between the air and the blood takes place."
            },
            {
                "question": "A potato is a modified:",
                "options": ["Root", "Stem", "Leaf", "Fruit"],
                "answer": "Stem",
                "explanation": "A potato is an underground stem tuber that stores food for the plant. The 'eyes' of the potato are buds that can grow into new plants."
            },
            {
                "question": "An odometer in a vehicle measures:",
                "options": ["Speed", "Distance", "Time", "Fuel"],
                "answer": "Distance",
                "explanation": "An odometer is an instrument used for measuring the total distance traveled by a vehicle."
            },
            {
                "question": "The symbol for an electric cell in a circuit diagram is:",
                "options": ["A circle with a cross", "A long and a short parallel line", "A zig-zag line", "A straight line"],
                "answer": "A long and a short parallel line",
                "explanation": "In a circuit diagram, a cell is represented by a long line (positive terminal) and a shorter, thicker parallel line (negative terminal)."
            },
            {
                "question": "The band of seven colors formed when white light passes through a prism is called a:",
                "options": ["Shadow", "Image", "Spectrum", "Reflection"],
                "answer": "Spectrum",
                "explanation": "The spectrum is the array of colors (Violet, Indigo, Blue, Green, Yellow, Orange, Red) produced by the dispersion of white light."
            },
            {
                "question": "The process of collecting and storing rainwater is called:",
                "options": ["Water harvesting", "Water treatment", "Irrigation", "Drip system"],
                "answer": "Water harvesting",
                "explanation": "Rainwater harvesting is a technique used to collect and store rainwater for later use, rather than allowing it to run off."
            },
            {
                "question": "The semi-solid waste produced during sewage treatment is called:",
                "options": ["Sludge", "Biogas", "Humus", "Contaminant"],
                "answer": "Sludge",
                "explanation": "Sludge is the solid material that settles out during wastewater treatment. It can be treated further and used as fertilizer."
            },
            {
                "question": "Which vein carries oxygenated blood?",
                "options": ["Vena Cava", "Renal vein", "Hepatic vein", "Pulmonary vein"],
                "answer": "Pulmonary vein",
                "explanation": "The pulmonary vein is an exception among veins as it carries oxygenated blood from the lungs back to the left atrium of the heart."
            },
            {
                "question": "The process of breathing in air is called:",
                "options": ["Inhalation", "Exhalation", "Respiration", "Circulation"],
                "answer": "Inhalation",
                "explanation": "Inhalation (or inspiration) is the act of drawing air into the lungs."
            },
            {
                "question": "Bryophyllum can reproduce from its:",
                "options": ["Roots", "Stems", "Leaves", "Flowers"],
                "answer": "Leaves",
                "explanation": "Bryophyllum is known for its ability to reproduce vegetatively from buds that grow along the margins of its leaves."
            },
            {
                "question": "The motion of a spinning top is:",
                "options": ["Translatory motion", "Rotational motion", "Oscillatory motion", "Linear motion"],
                "answer": "Rotational motion",
                "explanation": "Rotational motion is the movement of an object around a central axis, just like a spinning top."
            },
            {
                "question": "A material that does not allow electricity to pass through it is called an:",
                "options": ["Conductor", "Insulator", "Semiconductor", "Resistor"],
                "answer": "Insulator",
                "explanation": "Insulators, such as rubber, plastic, and glass, have very high resistance to the flow of electric current."
            },
            {
                "question": "The phenomenon of 'bouncing back' of light after striking a surface is called:",
                "options": ["Refraction", "Dispersion", "Absorption", "Reflection"],
                "answer": "Reflection",
                "explanation": "Reflection is the change in direction of a wavefront at an interface between two different media so that the wavefront returns into the medium from which it originated."
            },
            {
                "question": "The wise use of water to avoid wastage is called:",
                "options": ["Water cycle", "Water management", "Water pollution", "Water table"],
                "answer": "Water management",
                "explanation": "Water management involves planning, developing, distributing, and managing the optimum use of water resources."
            },
            {
                "question": "Forests help in bringing more:",
                "options": ["Sunlight", "Wind", "Rainfall", "Pollution"],
                "answer": "Rainfall",
                "explanation": "Forests play a significant role in the water cycle through transpiration, which increases atmospheric moisture and can lead to higher rainfall."
            },
            {
                "question": "The liquid part of the blood is called:",
                "options": ["Serum", "Plasma", "Hemoglobin", "Lymph"],
                "answer": "Plasma",
                "explanation": "Plasma is the yellowish liquid component of blood that holds the blood cells in suspension. It makes up about 55% of the body's total blood volume."
            },
            {
                "question": "During exhalation, the diaphragm moves:",
                "options": ["Up", "Down", "Forward", "Backward"],
                "answer": "Up",
                "explanation": "During exhalation, the diaphragm relaxes and moves up, decreasing the volume of the chest cavity and pushing air out of the lungs."
            },
            {
                "question": "The transfer of seeds to different places is called:",
                "options": ["Pollination", "Fertilization", "Dispersal", "Germination"],
                "answer": "Dispersal",
                "explanation": "Seed dispersal is the movement or transport of seeds away from the parent plant, which helps prevent overcrowding and ensures wider distribution."
            },
            {
                "question": "The needle of a magnetic compass always points towards the:",
                "options": ["East-West direction", "North-South direction", "Up-Down direction", "Any direction"],
                "answer": "North-South direction",
                "explanation": "A magnetic compass aligns itself with the Earth's magnetic field, with its north pole pointing towards the Earth's magnetic North Pole."
            },
            {
                "question": "A spherical mirror with its reflecting surface curved outwards is a:",
                "options": ["Concave mirror", "Plane mirror", "Convex mirror", "Lens"],
                "answer": "Convex mirror",
                "explanation": "A convex mirror, also known as a diverging mirror, reflects light outwards."
            },
            {
                "question": "The top layer of soil, rich in humus and minerals, is called:",
                "options": ["Bedrock", "Subsoil", "Topsoil", "Parent rock"],
                "answer": "Topsoil",
                "explanation": "Topsoil (or the A-horizon) is the most fertile layer of soil, essential for plant growth."
            },
            {
                "question": "The network of many food chains in an ecosystem is called a:",
                "options": ["Food web", "Trophic level", "Pyramid", "Ecology"],
                "answer": "Food web",
                "explanation": "A food web represents the complex and interconnected feeding relationships between various organisms in an ecosystem."
            }
        ];

        // --- DOM Elements ---
        const mainNav = document.querySelector('nav');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const enterQuizBtn = document.getElementById('enter-quiz-btn');
        const quizAppContainer = document.getElementById('quiz-app-container');

        const welcomeScreen = quizAppContainer.querySelector('#welcome-screen');
        const levelSelectionScreen = quizAppContainer.querySelector('#level-selection-screen');
        const quizContainer = quizAppContainer.querySelector('#quiz-container');
        const levelCompleteScreen = quizAppContainer.querySelector('#level-complete-screen');
        const reviewScreen = quizAppContainer.querySelector('#review-screen');
        const finalResultsScreen = quizAppContainer.querySelector('#final-results-screen');
        const explanationModal = document.querySelector('#explanation-modal');

        const nameInput = welcomeScreen.querySelector('#name-input');
        const startBtn = welcomeScreen.querySelector('#start-btn');
        const restartBtn = finalResultsScreen.querySelector('#restart-btn');
        const nextQuestionBtn = explanationModal.querySelector('#next-question-btn');
        const nextLevelBtn = levelCompleteScreen.querySelector('#next-level-btn');
        const retryLevelBtn = levelCompleteScreen.querySelector('#retry-level-btn');
        const backToLevelsBtn = levelCompleteScreen.querySelector('#back-to-levels-btn');
        const reviewMistakesBtn = levelCompleteScreen.querySelector('#review-mistakes-btn');
        const backFromReviewBtn = reviewScreen.querySelector('#back-from-review-btn');
        
        const levelSelectionGreeting = levelSelectionScreen.querySelector('#level-selection-greeting');
        const levelButtonsContainer = levelSelectionScreen.querySelector('#level-buttons-container');
        const levelNumberEl = quizContainer.querySelector('#level-number');
        const questionNumberEl = quizContainer.querySelector('#question-number');
        const totalQuestionsEl = quizContainer.querySelector('#total-questions');
        const scoreEl = quizContainer.querySelector('#score');
        const finalScoreEl = finalResultsScreen.querySelector('#final-score');
        const questionTextEl = quizContainer.querySelector('#question-text');
        const optionsContainer = quizContainer.querySelector('#options-container');
        const timerBar = quizContainer.querySelector('#timer-bar');
        const reviewContainer = reviewScreen.querySelector('#review-container');

        const explanationTitleEl = explanationModal.querySelector('#explanation-title');
        const explanationTextEl = explanationModal.querySelector('#explanation-text');
        const levelCompleteTitleEl = levelCompleteScreen.querySelector('#level-complete-title');
        const levelScoreEl = levelCompleteScreen.querySelector('#level-score');

        // --- State Variables ---
        let levels = {};
        let playerName = '';
        let currentLevel = 1;
        let unlockedLevel = 1;
        let totalScore = 0;
        let score = 0;
        let questionsForCurrentLevel = [];
        let currentQuestionInLevelIndex = 0;
        let wrongAnswers = [];
        let timer;
        const PASSING_SCORE_PERCENT = 0.7; // 70% to pass
        const NUM_LEVELS = 10;
        const QUESTIONS_PER_LEVEL = 20;

        // --- Interactive Learning Logic ---
        function setupInteractiveLearning() {
            // Hotspot logic
            document.querySelectorAll('.hotspot').forEach(hotspot => {
                hotspot.addEventListener('mouseenter', (e) => {
                    const info = e.target.dataset.info;
                    const popup = document.createElement('div');
                    popup.classList.add('info-popup');
                    popup.innerHTML = info;
                    document.body.appendChild(popup);
                    
                    const rect = e.target.getBoundingClientRect();
                    popup.style.left = `${rect.left + window.scrollX}px`;
                    popup.style.top = `${rect.bottom + window.scrollY + 10}px`;
                    
                    setTimeout(() => {
                        popup.style.opacity = '1';
                        popup.style.transform = 'translateY(0)';
                    }, 10);
                    
                    hotspot.addEventListener('mouseleave', () => {
                        popup.remove();
                    });
                });
            });

            // Litmus test logic
            document.querySelectorAll('.litmus-test-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const type = e.target.dataset.type;
                    const resultEl = document.getElementById('litmus-result');
                    if (type === 'acid') {
                        resultEl.textContent = 'Blue litmus turns Red!';
                        resultEl.style.color = '#ef4444';
                    } else {
                        resultEl.textContent = 'Red litmus turns Blue!';
                        resultEl.style.color = '#3b82f6';
                    }
                });
            });

            // Changes sorting game logic
            const changes = [
                { name: 'Melting Ice', type: 'physical' },
                { name: 'Burning Wood', type: 'chemical' },
                { name: 'Rusting Iron', type: 'chemical' },
                { name: 'Tearing Paper', type: 'physical' },
                { name: 'Baking a Cake', type: 'chemical' },
                { name: 'Boiling Water', type: 'physical' },
                { name: 'Digesting Food', type: 'chemical' },
                { name: 'Mixing Sand & Water', type: 'physical' },
            ];
            const cardsContainer = document.getElementById('change-cards-container');
            changes.forEach(change => {
                const card = document.createElement('button');
                card.className = 'p-4 bg-gray-200 rounded-lg font-semibold cursor-pointer hover:bg-gray-300';
                card.textContent = change.name;
                card.onclick = () => {
                    if (change.type === 'physical') {
                        document.getElementById('physical-box').appendChild(card);
                    } else {
                        document.getElementById('chemical-box').appendChild(card);
                    }
                    card.onclick = null; // Prevent moving again
                    card.classList.add('bg-green-200', 'cursor-default');
                };
                cardsContainer.appendChild(card);
            });
        }

        // --- Quiz Logic ---
        function initializeQuiz() {
            let questionIndex = 0;
            for (let i = 1; i <= NUM_LEVELS; i++) {
                levels[i] = allQuestions.slice(questionIndex, questionIndex + QUESTIONS_PER_LEVEL);
                questionIndex += QUESTIONS_PER_LEVEL;
            }
            
            unlockedLevel = parseInt(localStorage.getItem('scienceQuizUnlockedLevel') || '1');
            totalScore = parseInt(localStorage.getItem('scienceQuizTotalScore') || '0');
            playerName = localStorage.getItem('scienceQuizPlayerName') || '';
            if(playerName) {
                nameInput.value = playerName;
            }
        }

        function showScreen(screen) {
            const screens = quizAppContainer.querySelectorAll('.fade-in');
            screens.forEach(s => s.classList.add('hidden'));
            screen.classList.remove('hidden');
        }

        function handleStart() {
            playerName = nameInput.value.trim();
            if (!playerName) {
                alert("Please enter your name to start!");
                return;
            }
            localStorage.setItem('scienceQuizPlayerName', playerName);
            showLevelSelection();
        }

        function showLevelSelection() {
            levelSelectionGreeting.innerText = `Welcome, ${playerName}! Select a Level`;
            showScreen(levelSelectionScreen);
            levelButtonsContainer.innerHTML = '';
            unlockedLevel = parseInt(localStorage.getItem('scienceQuizUnlockedLevel') || '1');
            
            for (let i = 1; i <= NUM_LEVELS; i++) {
                const button = document.createElement('button');
                button.classList.add('level-btn', 'w-full', 'font-bold', 'py-4', 'px-2', 'rounded-lg', 'shadow-md');
                
                if (i <= unlockedLevel) {
                    button.innerHTML = `Level ${i}`;
                    button.classList.add('bg-white', 'text-indigo-600');
                    button.onclick = () => startLevel(i);
                } else {
                    button.innerHTML = `Level ${i} <i class="fas fa-lock ml-2"></i>`;
                    button.disabled = true;
                }
                levelButtonsContainer.appendChild(button);
            }
        }

        function startLevel(level) {
            currentLevel = level;
            currentQuestionInLevelIndex = 0;
            score = 0;
            wrongAnswers = [];
            scoreEl.innerText = score;
            
            questionsForCurrentLevel = [...levels[level]];
            shuffleArray(questionsForCurrentLevel);
            
            levelNumberEl.innerText = currentLevel;
            totalQuestionsEl.innerText = questionsForCurrentLevel.length;
            
            showScreen(quizContainer);
            loadQuestion();
        }
        
        function loadQuestion() {
            resetState();
            if (currentQuestionInLevelIndex < questionsForCurrentLevel.length) {
                const currentQuestion = questionsForCurrentLevel[currentQuestionInLevelIndex];
                questionNumberEl.innerText = currentQuestionInLevelIndex + 1;
                questionTextEl.innerText = currentQuestion.question;
                
                const shuffledOptions = [...currentQuestion.options];
                shuffleArray(shuffledOptions);
                shuffledOptions.forEach(option => {
                    const button = document.createElement('button');
                    button.innerText = option;
                    button.classList.add('option-btn', 'w-full', 'bg-white', 'text-gray-700', 'font-semibold', 'py-3', 'px-4', 'border', 'border-gray-300', 'rounded-lg', 'text-left', 'shadow-sm');
                    button.addEventListener('click', () => selectAnswer(button, option));
                    optionsContainer.appendChild(button);
                });
                startTimer();
            } else {
                showLevelComplete();
            }
        }

        function showLevelComplete() {
            showScreen(levelCompleteScreen);
            const passingScore = Math.ceil(questionsForCurrentLevel.length * PASSING_SCORE_PERCENT);
            levelScoreEl.innerText = `${score} / ${questionsForCurrentLevel.length}`;
            
            const isPassed = score >= passingScore;
            const isLastLevel = currentLevel === NUM_LEVELS;

            reviewMistakesBtn.classList.toggle('hidden', wrongAnswers.length === 0);

            if (isPassed) {
                levelCompleteTitleEl.innerText = "Level Complete!";
                levelCompleteTitleEl.className = "text-4xl font-bold text-green-600 mb-4";
                
                if (currentLevel >= unlockedLevel) {
                    totalScore += score;
                    localStorage.setItem('scienceQuizTotalScore', totalScore);
                }

                if (!isLastLevel) {
                    unlockedLevel = Math.max(unlockedLevel, currentLevel + 1);
                    localStorage.setItem('scienceQuizUnlockedLevel', unlockedLevel);
                    nextLevelBtn.classList.remove('hidden');
                    nextLevelBtn.onclick = () => startLevel(currentLevel + 1);
                } else {
                    nextLevelBtn.classList.remove('hidden');
                    nextLevelBtn.innerText = "See Final Results";
                    nextLevelBtn.onclick = showFinalResults;
                }
                retryLevelBtn.classList.add('hidden');

            } else {
                levelCompleteTitleEl.innerText = "Try Again!";
                levelCompleteTitleEl.className = "text-4xl font-bold text-red-500 mb-4";
                nextLevelBtn.classList.add('hidden');
                retryLevelBtn.classList.remove('hidden');
                retryLevelBtn.onclick = () => startLevel(currentLevel);
            }
        }
        
        function showReviewScreen() {
            showScreen(reviewScreen);
            reviewContainer.innerHTML = '';
            wrongAnswers.forEach(item => {
                const card = document.createElement('div');
                card.classList.add('review-card', 'bg-white', 'p-4', 'rounded-lg', 'shadow');
                card.innerHTML = `
                    <p class="font-semibold text-gray-800 mb-2">${item.question}</p>
                    <p class="text-red-500">Your Answer: <span class="font-medium">${item.userAnswer}</span></p>
                    <p class="text-green-600">Correct Answer: <span class="font-medium">${item.correctAnswer}</span></p>
                    <p class="text-gray-600 mt-2 text-sm">${item.explanation}</p>
                `;
                reviewContainer.appendChild(card);
            });
        }

        function showFinalResults() {
            showScreen(finalResultsScreen);
            finalScoreEl.innerText = `${totalScore} / ${allQuestions.length}`;
        }
        
        function resetGame() {
            localStorage.removeItem('scienceQuizUnlockedLevel');
            localStorage.removeItem('scienceQuizTotalScore');
            localStorage.removeItem('scienceQuizPlayerName');
            totalScore = 0;
            currentLevel = 1;
            unlockedLevel = 1;
            playerName = '';
            nameInput.value = '';
            initializeQuiz();
            showScreen(welcomeScreen);
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        function startTimer() {
            timerBar.style.transition = 'none';
            timerBar.style.width = '100%';
            timerBar.offsetHeight; 
            timerBar.style.transition = 'width 30s linear';
            timerBar.style.width = '0%';
            timer = setTimeout(handleTimeout, 30000);
        }
        
        function handleTimeout() {
            clearInterval(timer);
            const currentQuestion = questionsForCurrentLevel[currentQuestionInLevelIndex];
            wrongAnswers.push({
                question: currentQuestion.question,
                userAnswer: "No Answer (Timeout)",
                correctAnswer: currentQuestion.answer,
                explanation: currentQuestion.explanation
            });
            Array.from(optionsContainer.children).forEach(button => button.disabled = true);
            showExplanation(false);
        }

        function resetState() {
            clearTimeout(timer);
            optionsContainer.innerHTML = '';
            explanationModal.classList.add('hidden');
        }

        function selectAnswer(selectedButton, selectedOption) {
            clearTimeout(timer);
            const currentQuestion = questionsForCurrentLevel[currentQuestionInLevelIndex];
            const correct = selectedOption === currentQuestion.answer;

            Array.from(optionsContainer.children).forEach(button => {
                button.disabled = true;
                if (button.innerText === currentQuestion.answer) button.classList.add('correct');
            });

            if (correct) {
                score++;
                scoreEl.innerText = score;
                selectedButton.classList.add('correct');
                showExplanation(true);
            } else {
                selectedButton.classList.add('incorrect');
                wrongAnswers.push({
                    question: currentQuestion.question,
                    userAnswer: selectedOption,
                    correctAnswer: currentQuestion.answer,
                    explanation: currentQuestion.explanation
                });
                showExplanation(false);
            }
        }

        function showExplanation(isCorrect) {
            const currentQuestion = questionsForCurrentLevel[currentQuestionInLevelIndex];
            explanationTitleEl.innerText = isCorrect ? "Correct!" : "Not quite...";
            explanationTitleEl.className = `text-2xl font-bold mb-4 ${isCorrect ? 'text-green-600' : 'text-red-600'}`;
            explanationTextEl.innerHTML = `<strong>The correct answer is: ${currentQuestion.answer}.</strong><br><br>${currentQuestion.explanation}`;
            explanationModal.classList.remove('hidden');
        }

        function handleNextQuestion() {
            currentQuestionInLevelIndex++;
            loadQuestion();
        }

        // --- Event Listeners ---
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        enterQuizBtn.addEventListener('click', () => {
            document.getElementById('quiz-app-container').scrollIntoView();
            showScreen(welcomeScreen);
        });
        startBtn.addEventListener('click', handleStart);
        restartBtn.addEventListener('click', resetGame);
        nextQuestionBtn.addEventListener('click', handleNextQuestion);
        backToLevelsBtn.addEventListener('click', showLevelSelection);
        reviewMistakesBtn.addEventListener('click', showReviewScreen);
        backFromReviewBtn.addEventListener('click', showLevelComplete);

        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', () => {
            setupInteractiveLearning();
            initializeQuiz();
            // Hide quiz app initially, show it only when 'enter quiz' is clicked
            const screens = quizAppContainer.querySelectorAll('.fade-in');
            screens.forEach(s => s.classList.add('hidden'));
        });
    </script>
</body>
</html>
